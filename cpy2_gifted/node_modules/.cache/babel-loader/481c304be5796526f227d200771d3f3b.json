{"ast":null,"code":"var _jsxFileName = \"/Users/manishchandra/Documents/personal_workspace/cpy2_gifted/src/containers/AppContent.js\";\nimport React, { Component, Suspense, lazy } from \"react\";\nimport \"./style.css\";\nconst Search = lazy(() => import(\"../components/search\"));\nconst Cards = lazy(() => import(\"../components/cards\"));\nexport default class AppContent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchGIF = () => {\n      if (this.searchText) {\n        fetch(`https://api.giphy.com/v1/gifs/search?api_key=${process.env.REACT_APP_GIPHY_API_KEY}&q=${this.searchText}&limit=${this.state.limit}`).then(response => {\n          console.log(\"fetchGIF\", response);\n          return response.json();\n        }).then(searchedResponse => {\n          console.log(\"searchedResponse :: \", searchedResponse);\n          return this.setState({\n            gifs: searchedResponse.data || []\n          });\n        }).catch(err => console.log(\"Error :: \", err));\n      }\n    };\n\n    this.debounceFetchGIF = (fn, limit) => {\n      let timer;\n      return () => {\n        timer && clearTimeout(timer);\n        timer = setTimeout(fn, limit);\n      };\n    };\n\n    this.handleDebouncedSearchEvent = this.debounceFetchGIF(this.fetchGIF, 300);\n\n    this.updateSearchText = searchText => {\n      this.searchText = searchText && searchText.length > 0 ? searchText : \"happy\";\n      this.handleDebouncedSearchEvent();\n    };\n\n    this.state = {\n      gifs: [],\n      limit: 25\n    };\n    this.searchText = \"happy\";\n  }\n\n  componentDidMount() {\n    console.log(\"called\");\n    this.fetchGIF();\n  }\n\n  render() {\n    const gifs = this.state.gifs;\n    return React.createElement(\"div\", {\n      className: \"app_content\",\n      \"data-test\": \"appContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Suspense, {\n      fallback: React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Loading...\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Search, {\n      updateSearchText: this.updateSearchText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Cards, {\n      \"data-test\": \"cardInAppContent\",\n      gifs: gifs,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/manishchandra/Documents/personal_workspace/cpy2_gifted/src/containers/AppContent.js"],"names":["React","Component","Suspense","lazy","Search","Cards","AppContent","constructor","props","fetchGIF","searchText","fetch","process","env","REACT_APP_GIPHY_API_KEY","state","limit","then","response","console","log","json","searchedResponse","setState","gifs","data","catch","err","debounceFetchGIF","fn","timer","clearTimeout","setTimeout","handleDebouncedSearchEvent","updateSearchText","length","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,IAArC,QAAiD,OAAjD;AACA,OAAO,aAAP;AACA,MAAMC,MAAM,GAAGD,IAAI,CAAC,MAAM,OAAO,sBAAP,CAAP,CAAnB;AACA,MAAME,KAAK,GAAGF,IAAI,CAAC,MAAM,OAAO,qBAAP,CAAP,CAAlB;AACA,eAAe,MAAMG,UAAN,SAAyBL,SAAzB,CAAmC;AACjDM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAanBC,QAbmB,GAaR,MAAM;AAChB,UAAI,KAAKC,UAAT,EAAqB;AACpBC,QAAAA,KAAK,CACH,gDAA+CC,OAAO,CAACC,GAAR,CAAYC,uBAAwB,MAAK,KAAKJ,UAAW,UAAS,KAAKK,KAAL,CAAWC,KAAM,EAD/H,CAAL,CAGEC,IAHF,CAGOC,QAAQ,IAAI;AACjBC,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,QAAxB;AACA,iBAAOA,QAAQ,CAACG,IAAT,EAAP;AACA,SANF,EAOEJ,IAPF,CAOOK,gBAAgB,IAAI;AACzBH,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCE,gBAApC;AACA,iBAAO,KAAKC,QAAL,CAAc;AAAEC,YAAAA,IAAI,EAAEF,gBAAgB,CAACG,IAAjB,IAAyB;AAAjC,WAAd,CAAP;AACA,SAVF,EAWEC,KAXF,CAWQC,GAAG,IAAIR,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBO,GAAzB,CAXf;AAYA;AACD,KA5BkB;;AAAA,SA8BnBC,gBA9BmB,GA8BA,CAACC,EAAD,EAAKb,KAAL,KAAe;AACjC,UAAIc,KAAJ;AACA,aAAO,MAAM;AACZA,QAAAA,KAAK,IAAIC,YAAY,CAACD,KAAD,CAArB;AACAA,QAAAA,KAAK,GAAGE,UAAU,CAACH,EAAD,EAAKb,KAAL,CAAlB;AACA,OAHD;AAIA,KApCkB;;AAAA,SAsCnBiB,0BAtCmB,GAsCU,KAAKL,gBAAL,CAAsB,KAAKnB,QAA3B,EAAqC,GAArC,CAtCV;;AAAA,SAwCnByB,gBAxCmB,GAwCAxB,UAAU,IAAI;AAChC,WAAKA,UAAL,GACCA,UAAU,IAAIA,UAAU,CAACyB,MAAX,GAAoB,CAAlC,GAAsCzB,UAAtC,GAAmD,OADpD;AAEA,WAAKuB,0BAAL;AACA,KA5CkB;;AAElB,SAAKlB,KAAL,GAAa;AACZS,MAAAA,IAAI,EAAE,EADM;AAEZR,MAAAA,KAAK,EAAE;AAFK,KAAb;AAIA,SAAKN,UAAL,GAAkB,OAAlB;AACA;;AACD0B,EAAAA,iBAAiB,GAAG;AACnBjB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,SAAKX,QAAL;AACA;;AAmCD4B,EAAAA,MAAM,GAAG;AAAA,UACAb,IADA,GACS,KAAKT,KADd,CACAS,IADA;AAER,WACC;AAAK,MAAA,SAAS,EAAC,aAAf;AAA6B,mBAAU,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AAAQ,MAAA,gBAAgB,EAAE,KAAKU,gBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC,oBAAC,KAAD;AAAO,mBAAU,kBAAjB;AAAoC,MAAA,IAAI,EAAEV,IAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADD,CADD;AAQA;;AAzDgD","sourcesContent":["import React, { Component, Suspense, lazy } from \"react\";\nimport \"./style.css\";\nconst Search = lazy(() => import(\"../components/search\"));\nconst Cards = lazy(() => import(\"../components/cards\"));\nexport default class AppContent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tgifs: [],\n\t\t\tlimit: 25\n\t\t};\n\t\tthis.searchText = \"happy\";\n\t}\n\tcomponentDidMount() {\n\t\tconsole.log(\"called\");\n\t\tthis.fetchGIF();\n\t}\n\n\tfetchGIF = () => {\n\t\tif (this.searchText) {\n\t\t\tfetch(\n\t\t\t\t`https://api.giphy.com/v1/gifs/search?api_key=${process.env.REACT_APP_GIPHY_API_KEY}&q=${this.searchText}&limit=${this.state.limit}`\n\t\t\t)\n\t\t\t\t.then(response => {\n\t\t\t\t\tconsole.log(\"fetchGIF\", response);\n\t\t\t\t\treturn response.json();\n\t\t\t\t})\n\t\t\t\t.then(searchedResponse => {\n\t\t\t\t\tconsole.log(\"searchedResponse :: \", searchedResponse);\n\t\t\t\t\treturn this.setState({ gifs: searchedResponse.data || [] });\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(\"Error :: \", err));\n\t\t}\n\t};\n\n\tdebounceFetchGIF = (fn, limit) => {\n\t\tlet timer;\n\t\treturn () => {\n\t\t\ttimer && clearTimeout(timer);\n\t\t\ttimer = setTimeout(fn, limit);\n\t\t};\n\t};\n\n\thandleDebouncedSearchEvent = this.debounceFetchGIF(this.fetchGIF, 300);\n\n\tupdateSearchText = searchText => {\n\t\tthis.searchText =\n\t\t\tsearchText && searchText.length > 0 ? searchText : \"happy\";\n\t\tthis.handleDebouncedSearchEvent();\n\t};\n\n\trender() {\n\t\tconst { gifs } = this.state;\n\t\treturn (\n\t\t\t<div className=\"app_content\" data-test=\"appContent\">\n\t\t\t\t<Suspense fallback={<div>Loading...</div>}>\n\t\t\t\t\t<Search updateSearchText={this.updateSearchText} />\n\t\t\t\t\t<Cards data-test=\"cardInAppContent\" gifs={gifs} />\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}