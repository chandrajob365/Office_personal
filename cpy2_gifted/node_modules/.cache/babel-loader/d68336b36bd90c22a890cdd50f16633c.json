{"ast":null,"code":"import _classCallCheck from\"/Users/manishchandra/Documents/personal_workspace/gifted/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/manishchandra/Documents/personal_workspace/gifted/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/manishchandra/Documents/personal_workspace/gifted/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/manishchandra/Documents/personal_workspace/gifted/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/manishchandra/Documents/personal_workspace/gifted/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Search from\"../components/search\";import Cards from\"../components/cards\";import\"./style.css\";var AppContent=/*#__PURE__*/function(_Component){_inherits(AppContent,_Component);function AppContent(props){var _this;_classCallCheck(this,AppContent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AppContent).call(this,props));_this.fetchGIF=function(){if(_this.searchText){fetch(\"https://api.giphy.com/v1/gifs/search?api_key=\".concat(process.env.REACT_APP_GIPHY_API_KEY,\"&q=\").concat(_this.searchText,\"&limit=\").concat(_this.state.limit)).then(function(response){console.log(\"fetchGIF\",response);return response.json();}).then(function(searchedResponse){console.log(\"searchedResponse :: \",searchedResponse);return _this.setState({gifs:searchedResponse.data});}).catch(function(err){return console.log(\"Error :: \",err);});}};_this.debounceFetchGIF=function(fn,limit){var timer;return function(){timer&&clearTimeout(timer);timer=setTimeout(fn,limit);};};_this.handleDebouncedSearchEvent=_this.debounceFetchGIF(_this.fetchGIF,300);_this.updateSearchText=function(searchText){_this.searchText=searchText&&searchText.length>0?searchText:\"happy\";_this.handleDebouncedSearchEvent();};_this.state={gifs:[],limit:25};_this.searchText=\"happy\";return _this;}_createClass(AppContent,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"called\");this.fetchGIF();}},{key:\"render\",value:function render(){var gifs=this.state.gifs;return React.createElement(\"div\",{className:\"app_content\",\"data-test\":\"appContent\"},React.createElement(Search,{updateSearchText:this.updateSearchText}),React.createElement(Cards,{\"data-test\":\"cardInAppContent\",gifs:gifs}));}}]);return AppContent;}(Component);export{AppContent as default};","map":{"version":3,"sources":["/Users/manishchandra/Documents/personal_workspace/gifted/src/containers/AppContent.js"],"names":["React","Component","Search","Cards","AppContent","props","fetchGIF","searchText","fetch","process","env","REACT_APP_GIPHY_API_KEY","state","limit","then","response","console","log","json","searchedResponse","setState","gifs","data","catch","err","debounceFetchGIF","fn","timer","clearTimeout","setTimeout","handleDebouncedSearchEvent","updateSearchText","length"],"mappings":"qsBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAO,aAAP,C,GACqBC,CAAAA,U,oEAEjB,oBAAYC,KAAZ,CAAkB,4CACd,4EAAMA,KAAN,GADc,MAalBC,QAbkB,CAaP,UAAM,CACb,GAAG,MAAKC,UAAR,CAAmB,CAGnBC,KAAK,wDAAiDC,OAAO,CAACC,GAAR,CAAYC,uBAA7D,eAA0F,MAAKJ,UAA/F,mBAAmH,MAAKK,KAAL,CAAWC,KAA9H,EAAL,CACSC,IADT,CACc,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBF,QAAxB,EACA,MAAOA,CAAAA,QAAQ,CAACG,IAAT,EAAP,CACH,CAJT,EAKSJ,IALT,CAKc,SAAAK,gBAAgB,CAAI,CACtBH,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCE,gBAApC,EACA,MAAO,OAAKC,QAAL,CAAc,CAACC,IAAI,CAAEF,gBAAgB,CAACG,IAAxB,CAAd,CAAP,CACH,CART,EASSC,KATT,CASe,SAAAC,GAAG,QAAIR,CAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBO,GAAzB,CAAJ,EATlB,EAUC,CACJ,CA5BiB,OA8BlBC,gBA9BkB,CA8BC,SAACC,EAAD,CAAKb,KAAL,CAAe,CAC9B,GAAIc,CAAAA,KAAJ,CACA,MAAO,WAAM,CACTA,KAAK,EAAIC,YAAY,CAACD,KAAD,CAArB,CACAA,KAAK,CAAGE,UAAU,CAACH,EAAD,CAAKb,KAAL,CAAlB,CACH,CAHD,CAIH,CApCiB,OAsClBiB,0BAtCkB,CAsCW,MAAKL,gBAAL,CAAsB,MAAKnB,QAA3B,CAAqC,GAArC,CAtCX,OAwClByB,gBAxCkB,CAwCC,SAACxB,UAAD,CAAgB,CAC/B,MAAKA,UAAL,CAAkBA,UAAU,EAAIA,UAAU,CAACyB,MAAX,CAAoB,CAAlC,CAAsCzB,UAAtC,CAAmD,OAArE,CACA,MAAKuB,0BAAL,GACH,CA3CiB,CAEd,MAAKlB,KAAL,CAAa,CACTS,IAAI,CAAE,EADG,CAETR,KAAK,CAAE,EAFE,CAAb,CAIA,MAAKN,UAAL,CAAkB,OAAlB,CANc,aAOjB,C,oFACmB,CAChBS,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA,KAAKX,QAAL,GACH,C,uCAkCQ,IACGe,CAAAA,IADH,CACY,KAAKT,KADjB,CACGS,IADH,CAEL,MACI,4BAAK,SAAS,CAAC,aAAf,CAA6B,YAAU,YAAvC,EACI,oBAAC,MAAD,EAAQ,gBAAgB,CAAE,KAAKU,gBAA/B,EADJ,CAEI,oBAAC,KAAD,EAAO,YAAU,kBAAjB,CAAoC,IAAI,CAAEV,IAA1C,EAFJ,CADJ,CAMH,C,wBAvDmCpB,S,SAAnBG,U","sourcesContent":["import React, { Component } from \"react\"\nimport Search from \"../components/search\";\nimport Cards from \"../components/cards\";\nimport \"./style.css\";\nexport default class AppContent extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            gifs: [],\n            limit: 25\n        }\n        this.searchText = \"happy\"\n    }\n    componentDidMount() {\n        console.log(\"called\")\n        this.fetchGIF();\n    }\n\n    fetchGIF = () => {\n        if(this.searchText){\n\n\n        fetch(`https://api.giphy.com/v1/gifs/search?api_key=${process.env.REACT_APP_GIPHY_API_KEY}&q=${this.searchText}&limit=${this.state.limit}`)\n                .then(response => {\n                    console.log(\"fetchGIF\", response)\n                    return response.json()\n                })\n                .then(searchedResponse => {\n                    console.log(\"searchedResponse :: \", searchedResponse)\n                    return this.setState({gifs: searchedResponse.data})\n                })\n                .catch(err => console.log(\"Error :: \", err))\n        }\n    }\n\n    debounceFetchGIF = (fn, limit) => {\n        let timer;\n        return () => {\n            timer && clearTimeout(timer);\n            timer = setTimeout(fn, limit);\n        }\n    };\n\n    handleDebouncedSearchEvent = this.debounceFetchGIF(this.fetchGIF, 300);\n\n    updateSearchText = (searchText) => {\n        this.searchText = searchText && searchText.length > 0 ? searchText : \"happy\";\n        this.handleDebouncedSearchEvent();\n    }\n\n    render() {\n        const { gifs } = this.state;\n        return (\n            <div className=\"app_content\" data-test=\"appContent\">\n                <Search updateSearchText={this.updateSearchText}/>\n                <Cards data-test=\"cardInAppContent\" gifs={gifs}/>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}